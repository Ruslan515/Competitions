class Solution:
    def topStudents(
            self,
            positive_feedback: List[str],
            negative_feedback: List[str],
            report: List[str],
            student_id: List[int],
            k: int
    ) -> List[int]:
        answer = []
        from collections import defaultdict
        d = defaultdict(int)
        for id in student_id:
            d[id] = 0

        for i, rep in enumerate(report):
            point = 0
            for pos in positive_feedback:
                rrr = rep.split(" ")
                if pos in rep:
                    cnt = rrr.count(pos)
                    point += cnt * 3
            for neg in negative_feedback:
                rrr = rep.split(" ")
                if neg in rrr:
                    cnt = rrr.count(neg)
                    point += cnt * (-1)
            d[student_id[i]] = point


        answer = sorted(d.items(), key=lambda x: (x[1], -x[0]), reverse=True)
        answer = [k for k, v in answer]
        answer = answer[:k]

        return answer